{% extends 'admin/template/app.twig' %}
{% block title %} Admin - Item{% endblock %}
{% block current %}
    Item list
{% endblock %}
{% block content %}
<div class="panel panel-primary">
    <div class="panel-heading main-color-bg">
        <h3 class="panel-title">Item list</h3>
    </div>
    <div class="panel-body">
    <div class="col-xs-12">
    <a href="" data-toggle="modal" data-target="#squarespaceModal">
        <button class="btn btn-primary" style="border-radius:5%;">
            <i class="fa fa-list"></i> Tambah Item</button></a>
     <!-- line modal -->
<div class="modal fade" id="squarespaceModal" tabindex="-1" role="dialog"
 aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">Ã—</span><span class="sr-only">Tutup</span></button>
                <h3 class="modal-title" id="lineModalLabel">Buat Item</h3>
            </div>
            <div class="modal-body">

                <!-- modal content -->
                <form action="{{ base_url() }}/group/create" method="POST">
                    <div class="form-group">
                        <label for="exampleInputEmail1">Nama</label>
                        <input type="text" name="name" class="form-control" placeholder="Nama grup">
                    </div>
                    <div class="form-group">
                        <label for="exampleTextarea">Deskripsi</label>
                        <textarea name="description" class="form-control" rows="3"></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <div class="btn-group btn-group-justified" role="group" aria-label="group button">
                        <div class="btn-group" role="group">
                            <button type="button" class="btn btn-danger"
                            data-dismiss="modal" role="button">Tutup</button>
                        </div>
                        <div class="btn-group" role="group">
                            <button type="submit" class="btn btn-success btn-hover-green" >Buat</button>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
      <div class="table-responsive">
    <br>
        <table  class="table table-bordered table-hover">
          <thead>
            <tr>
              <th>No</th>
              <th>Nama</th>
              <th>Deskripsi</th>
              <th>Perulangan</th>
              <th>Status</th>
              <th class="col-md-1">Tindakan</th>
            </tr>
          </thead>
          <tbody>
            {% for key, item in data %}
            <tr>
                <td> {{ key + 1 + (pagination.perpage * (pagination.current - 1)) }}</td>
                <td> {{ item.name }} </td>
                <td> {{ item.description }} </td>
                <td> {{ item.recurrent }} </td>
                <td>
                    {% if item.status == 1 %}
                    dilaporkan
                    {% else %}
                    belum dilaporkan
                    {% endif %}
                </td>
                <td>
                    <a data-toggle="modal" data-target="#delete{{item.id}}" href="" style="color:red"
                     data-toggle="tooltip" data-placement="top" title="Hapus item"><i class="fa fa-times"></i></a>
                &nbsp&nbsp<a href="" style="color:#179FFC" data-toggle="tooltip" data-placement="top" title="Update"><i class="fa fa-pencil"></i></a>
                <!-- <a href="" style="color:green" data-toggle="tooltip" data-placement="top" title="View detail"><i class="fa fa-eye"></i></a> -->
                </td>
            </tr>
          {% endfor %}
          </tbody>
        </table>
    </div><!--end of .table-responsive-->
      </div><!--end of .table-responsive-->
      <nav aria-label="...">
          <ul class="pager">
              {% if pagination.current > pagination.first_page %}
              {% if pagination.current > 2 %}
              <li class="previous"><a href="{{ base_url() }}/admin/item?page={{ pagination.first_page }}" title="halaman pertama">
                  <i class="fa fa-fast-backward" aria-hidden="true"></i> {{ pagination.first_page }}</a></li>
            {% endif %}
              <li class=""><a href="{{ base_url() }}/admin/item?page={{ pagination.current - 1 }}" title="halaman sebelumnya">
                  <i class="fa fa-angle-double-left" aria-hidden="true"></i> {{ pagination.current - 1 }}</a></li>
              {% endif %}
              <li class=""><a>{{ pagination.current }}</a></li>
              {% if pagination.current < pagination.total_page %}
              <li class=""><a href="{{ base_url() }}/admin/item?page={{ pagination.current + 1 }}" title="halaman selanjutnya">
                  {{ pagination.current + 1 }} <i class="fa fa-angle-double-right" aria-hidden="true"></i></a></li>
                  {% if pagination.current <  pagination.total_page - 1 %}
              <li class="next"><a href="{{ base_url() }}/admin/item?page={{ pagination.total_page }}" title="halaman terakhir">
                  {{ pagination.total_page }} <i class="fa fa-fast-forward" aria-hidden="true"></i></a></li>
                  {% endif %}
              {% endif %}
          </ul>
      </nav>
  </div>
  </div>


  {% for item in data %}

  <!-- Delete Group -->
  <div class="modal fade" id="delete{{item.id}}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
          <div class="modal-content">
              <div class="modal-header">
                  <h3 class="modal-title" id="exampleModalLabel">Hapus Item</h3>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                  </button>
              </div>
              <div class="modal-body">
                  Apakah anda yakin akan menghapus <b>{{item.name}}</b>?
              </div>
              <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Batal</button>
                  <a class="btn btn-danger" href="{{path_for('admin.delete.item', {'id':item.id})}}" style="color:"
                  data-toggle="tooltip" data-placement="top" title="delete">Hapus
              </a>
          </div>
      </div>
  </div>
</div>
{% endfor %}

{% endblock %}
